
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerar Imagem do Time</title>
</head>
<body>
    <h1>Gerar Imagem do Time</h1>

    <button onclick="generateTeamImage()">Gerar Imagem</button>
    <div id="generatedImageContainer">
        <!-- A imagem gerada ser치 exibida aqui -->
    </div>

    <script>
        async function generateTeamImage() {
            const data = {
                players: [
                    { url: "https://site-stars.vercel.app/cards/yqhhxzhqlogpontjpoyb.png", x: 100, y: 150, width: 50, height: 50 },
                    { url: "https://site-stars.vercel.app/cards/dtiuo6hxnvxsmq1mu9o9.png", x: 200, y: 250, width: 50, height: 50 }
                    // Adicione mais jogadores conforme necess치rio
                ]
            };

            try {
                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (!response.ok) {
                    throw new Error(`Erro ao gerar imagem: ${response.statusText}`);
                }

                const blob = await response.blob(); // Converte a resposta para um blob (imagem)
                const imageUrl = URL.createObjectURL(blob); // Cria uma URL tempor치ria para a imagem

                // Exibe a imagem gerada na p치gina
                const img = document.createElement('img');
                img.src = imageUrl;
                img.alt = "Imagem do time gerada";
                img.width = 700;
                img.height = 800;

                const container = document.getElementById('generatedImageContainer');
                container.innerHTML = ''; // Limpa imagens anteriores
                container.appendChild(img); // Adiciona a nova imagem

            } catch (error) {
                console.error(error);
                alert('Ocorreu um erro ao gerar a imagem do time.');
            }
        }
    </script>
</body>
</html>